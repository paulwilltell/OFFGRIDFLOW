# OffGridFlow API - Railway Production Configuration
# Copy these into Railway environment variables for offgridflow-api service

# Application Environment
OFFGRIDFLOW_APP_ENV=production
OFFGRIDFLOW_HTTP_PORT=8090
PORT=8090

# Database (CRITICAL - Link to Postgres service)
OFFGRIDFLOW_DB_DSN=${{Postgres.DATABASE_URL}}
DATABASE_URL=${{Postgres.DATABASE_URL}}

# Database Connection Pool
OFFGRIDFLOW_DB_MAX_OPEN_CONNS=25
OFFGRIDFLOW_DB_MAX_IDLE_CONNS=10
OFFGRIDFLOW_DB_CONN_MAX_LIFETIME=45m

# Authentication (CRITICAL - Generate secure random strings)
OFFGRIDFLOW_JWT_SECRET=GENERATE_A_SECURE_64_CHARACTER_RANDOM_STRING_HERE
OFFGRIDFLOW_COOKIE_SECURE=true
OFFGRIDFLOW_COOKIE_DOMAIN=.off-grid-flow.com
OFFGRIDFLOW_REQUIRE_AUTH=true

# Server Timeouts
OFFGRIDFLOW_READ_TIMEOUT=30s
OFFGRIDFLOW_WRITE_TIMEOUT=30s
OFFGRIDFLOW_IDLE_TIMEOUT=120s

# CORS Configuration (Frontend domain)
OFFGRIDFLOW_TRUSTED_PROXIES=
NEXTAUTH_URL=https://off-grid-flow.com

# Stripe Configuration (if using billing)
STRIPE_SECRET_KEY=sk_live_YOUR_LIVE_STRIPE_SECRET_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_YOUR_LIVE_WEBHOOK_SECRET_HERE
STRIPE_PRICE_FREE=price_free_id_here
STRIPE_PRICE_BASIC=price_basic_id_here
STRIPE_PRICE_PRO=price_pro_id_here
STRIPE_PRICE_ENTERPRISE=price_enterprise_id_here

# AI Configuration (Optional)
OFFGRIDFLOW_OPENAI_API_KEY=
OFFGRIDFLOW_OPENAI_MODEL=gpt-4o-mini
OFFGRIDFLOW_LOCAL_AI_URL=http://localhost:11434
OFFGRIDFLOW_LOCAL_AI_MODEL=llama3.2:3b

# Ingestion Configuration
OFFGRIDFLOW_INGEST_LOOKBACK_DAYS=30
OFFGRIDFLOW_INGESTION_SCHEDULE_INTERVAL=30m

# Cloud Provider Ingestion (Set to false unless configured)
OFFGRIDFLOW_AWS_INGEST_ENABLED=false
OFFGRIDFLOW_AWS_REGION=us-east-1
OFFGRIDFLOW_AZURE_INGEST_ENABLED=false
OFFGRIDFLOW_GCP_INGEST_ENABLED=false
OFFGRIDFLOW_SAP_INGEST_ENABLED=false
OFFGRIDFLOW_UTILITY_INGEST_ENABLED=false

# Feature Flags
OFFGRIDFLOW_ENABLE_AUDIT_LOG=true
OFFGRIDFLOW_ENABLE_METRICS=true
OFFGRIDFLOW_ENABLE_GRAPHQL=true
OFFGRIDFLOW_ENABLE_OFFLINE_AI=false
