# OffGridFlow production environment variables
# IMPORTANT: Replace all placeholders with real secrets before deploying to production.

# Server
OFFGRIDFLOW_APP_ENV=production
OFFGRIDFLOW_HTTP_PORT=8080

# Database (Postgres) - ensure the Postgres server has a matching max_connections configured
# Recommended: For small deployments, set DB max open conns <= 50 per primary instance.
OFFGRIDFLOW_DB_DSN=postgres://offgridflow:REPLACE_ME_PASSWORD@postgres:5432/offgridflow?sslmode=prefer
OFFGRIDFLOW_DB_MAX_OPEN_CONNS=20
OFFGRIDFLOW_DB_MAX_IDLE_CONNS=5
OFFGRIDFLOW_DB_CONN_MAX_LIFETIME=1h

# Redis
OFFGRIDFLOW_REDIS_URL=redis://redis:6379/0

# JWT / Security
OFFGRIDFLOW_JWT_SECRET=REPLACE_WITH_RANDOM_64_CHAR_STRING
OFFGRIDFLOW_API_KEY=REPLACE_WITH_API_KEY

# OpenTelemetry / Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_SERVICE_NAME=offgridflow-api

# Email / SMTP (for password reset)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=REPLACE_ME
SMTP_PASSWORD=REPLACE_ME

# Third-party keys (Stripe, AWS, Azure, etc.)
STRIPE_API_KEY=REPLACE_ME
AWS_ACCESS_KEY_ID=REPLACE_ME
AWS_SECRET_ACCESS_KEY=REPLACE_ME

# Other settings
OFFGRIDFLOW_ALLOW_REGISTRATION=false

# Note: Do NOT commit this file to version control. Use your orchestration platform's secrets store (Kubernetes Secrets, HashiCorp Vault, etc.)
